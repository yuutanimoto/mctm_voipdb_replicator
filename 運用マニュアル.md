
運用中何かあったらここを見る

　※ソースコードの修正が必要になった場合は、README.mdをみて環境構築、zipにしてからlambdaにアップロードする

ログ出力：
　・CloudWatch
　　https://ap-northeast-1.console.aws.amazon.com/cloudwatch/home?region=ap-northeast-1#logsV2:log-groups/log-group/$252Faws$252Flambda$252Fmctm-replica-db-copy-func


AWS構成：
・EventBridge
　・mctm-replica-db-copy-schedule
　　・設定：
　　　毎日 8:00 12:00 16:00

・Lambda
　・mctm-replica-db-copy-func

・処理時間
　大体２分弱（select＆insert全てを含む）


コードの確認
　・https://ap-northeast-1.console.aws.amazon.com/lambda/home?region=ap-northeast-1#/functions/mctm-replica-db-copy-func?tab=code
　　※ubuntu環境からcusorで開いて修正すること　gitにかんしてもそこにあるやつが最新なのでwindows環境でやらないように

テスト
　・テストタブで、テスト　を押せば動作確認可能　イベントJSONに値を入れることで特定のテーブルだけコピーとかの動作も確認可能
　　その後ログを参照して問題を確認する

設定
　一般設定
　　・タイムアウト　10分
　　・メモリ 512MB

環境変数メモ
    PG_CONNECT_TIMEOUT
    30
    PG_DB
    dx_sim_management_db
    PG_HOST
    mdb-copy-internaluse-db.canwpjocubwd.ap-northeast-1.rds.amazonaws.com
    PG_PASSWORD
    E9XyF-KV$D$4iCqhHkuE_r*R601i
    PG_PORT
    5432
    PG_USER
    postgres
    SQL_SERVER_MCTM_CHARSET
    UTF-8
    SQL_SERVER_MCTM_DB
    McTM
    SQL_SERVER_MCTM_HOST
    imesh-fdc-mdb-mctm-pri.private
    SQL_SERVER_MCTM_LOGIN_TIMEOUT
    30
    SQL_SERVER_MCTM_PASSWORD
    M0biCri3720
    SQL_SERVER_MCTM_TIMEOUT
    180
    SQL_SERVER_MCTM_USER
    sa
    SQL_SERVER_VOIPDB_CHARSET
    UTF-8
    SQL_SERVER_VOIPDB_DB
    VoipDB
    SQL_SERVER_VOIPDB_HOST
    imesh-fdc-mdb-voipdb-pri.private
    SQL_SERVER_VOIPDB_LOGIN_TIMEOUT
    30
    SQL_SERVER_VOIPDB_PASSWORD
    M0biCri3720
    SQL_SERVER_VOIPDB_PORT
    1433
    SQL_SERVER_VOIPDB_TIMEOUT
    180
    SQL_SERVER_VOIPDB_USER
    sa

